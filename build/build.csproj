<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Build" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="packages\lzham-win64.1.0.0\build\lzham-win64.props" Condition="Exists('packages\lzham-win64.1.0.0\build\lzham-win64.props')" />
  <Import Project="packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.props" Condition="Exists('packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.props')" />
  <Import Project="packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.props" Condition="Exists('packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.props')" />
  <PropertyGroup>
    <TargetFramework>native</TargetFramework>
  </PropertyGroup>
  <ItemGroup>
    <None Include="packages.config" />
  </ItemGroup>
  <PropertyGroup>
    <AutoGeneratedAnimations Condition="$(AutoGeneratedAnimations) == ''">$(MSBuildThisFileDirectory)..\bin\animations\</AutoGeneratedAnimations>
  </PropertyGroup>
  <PropertyGroup>
    <UCToolsAnimation Condition="$(uc-tools-animation) == ''">$(MSBuildThisFileDirectory)packages\uc-tools-animation.1.0.6\lib\native\uc-animation.exe</UCToolsAnimation>
  </PropertyGroup>
  <ItemDefinitionGroup>
    <Animation>
      <InputAnimation>%(FullPath)</InputAnimation>
      <OutputAnimation>$(AutoGeneratedAnimations)%(FileName).animation</OutputAnimation>
      <Outputs>$(AutoGeneratedAnimations)%(FileName).animation</Outputs>
    </Animation>
  </ItemDefinitionGroup>
  <Target Name="AnimationMakeDir">
    <ItemGroup Condition="'@(Animation)'!=''">
      <AnimationOutputs Include="@(Animation-&gt;Metadata('OutputAnimation')-&gt;Distinct())" />
      <AnimationDirsToMake Include="@(AnimationOutputs-&gt;DirectoryName())" />
    </ItemGroup>
    <MakeDir Directories="@(AnimationDirsToMake)" />
    <ItemGroup>
      <AnimationDirsToMake Remove="@(AnimationDirsToMake)" />
    </ItemGroup>
  </Target>
  <Target Name="BuildExecutable" Inputs="@(Reference)" Condition="'@(Reference)' != ''">
    <MSBuild Projects="$(MSBuildProjectFile)" Targets="Recursive" Properties="Value=5" />
  </Target>
  <Target Name="BuildAnimations" DependsOnTargets="AnimationMakeDir" Inputs="@(Animation)" Condition="'@(Animation)' != ''" Outputs="%(Animation.OutputAnimation)">
    <Exec Command="$(UCToolsAnimation) --input_animation  %(Animation.InputAnimation) --output_animation %(Animation.OutputAnimation)" />
  </Target>
  <ItemGroup>
    <Animation Include="$(MSBuildThisFileDirectory)..\source\military_mechanic.fbx" />
  </ItemGroup>
  <ItemGroup>
    <Reference Include="Compressonator_MD_DLL">
      <HintPath>packages\amd-compressonator-2-3-0.2.3.3\lib\native\Compressonator_MD_DLL.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="libfbxsdk">
      <HintPath>packages\uc-tools-animation.1.0.6\lib\native\libfbxsdk.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="lzham_x64">
      <HintPath>packages\uc-tools-animation.1.0.6\lib\native\lzham_x64.dll</HintPath>
      <Private>True</Private>
    </Reference>
    <Reference Include="uc-animation">
      <HintPath>packages\uc-tools-animation.1.0.6\lib\native\uc-animation.exe</HintPath>
      <Private>True</Private>
    </Reference>
  </ItemGroup>
  <Target Name="Build" DependsOnTargets="BuildAnimations">
  </Target>
  <Target Name="EnsureNuGetPackageBuildImports" BeforeTargets="PrepareForBuild">
    <PropertyGroup>
      <ErrorText>This project references NuGet package(s) that are missing on this computer. Enable NuGet Package Restore to download them.  For more information, see http://go.microsoft.com/fwlink/?LinkID=322105.The missing file is {0}.</ErrorText>
    </PropertyGroup>
    <Error Condition="!Exists('packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.props')" Text="$([System.String]::Format('$(ErrorText)', 'packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.props'))" />
    <Error Condition="!Exists('packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.targets')" Text="$([System.String]::Format('$(ErrorText)', 'packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.targets'))" />
    <Error Condition="!Exists('packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.props')" Text="$([System.String]::Format('$(ErrorText)', 'packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.props'))" />
    <Error Condition="!Exists('packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.targets')" Text="$([System.String]::Format('$(ErrorText)', 'packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.targets'))" />
    <Error Condition="!Exists('packages\lzham-win64.1.0.0\build\lzham-win64.props')" Text="$([System.String]::Format('$(ErrorText)', 'packages\lzham-win64.1.0.0\build\lzham-win64.props'))" />
    <Error Condition="!Exists('packages\lzham-win64.1.0.0\build\lzham-win64.targets')" Text="$([System.String]::Format('$(ErrorText)', 'packages\lzham-win64.1.0.0\build\lzham-win64.targets'))" />
    <Error Condition="!Exists('packages\uc-lzham-desktop.1.0.9\build\native\uc-lzham-desktop.targets')" Text="$([System.String]::Format('$(ErrorText)', 'packages\uc-lzham-desktop.1.0.9\build\native\uc-lzham-desktop.targets'))" />
  </Target>
  <Import Project="packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.targets" Condition="Exists('packages\amd-compressonator-2-3-0.2.3.3\build\native\amd-compressonator-2-3-0.targets')" />
  <Import Project="packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.targets" Condition="Exists('packages\fbxsdk-2018-1-1-dll.2018.1.1\build\fbxsdk-2018-1-1-dll.targets')" />
  <Import Project="packages\lzham-win64.1.0.0\build\lzham-win64.targets" Condition="Exists('packages\lzham-win64.1.0.0\build\lzham-win64.targets')" />
  <Import Project="packages\uc-lzham-desktop.1.0.9\build\native\uc-lzham-desktop.targets" Condition="Exists('packages\uc-lzham-desktop.1.0.9\build\native\uc-lzham-desktop.targets')" />
</Project>